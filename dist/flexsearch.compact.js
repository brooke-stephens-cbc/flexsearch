/*
 FlexSearch v0.6.30
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/flexsearch
*/
'use strict';(function(w,L,O){let H;(H=O.define)&&H.amd?H([],function(){return L}):(H=O.modules)?H[w.toLowerCase()]=L:"object"===typeof exports?module.exports=L:O[w]=L})("FlexSearch",function(){function w(a,b){const c=b?b.id:a&&a.id;this.id=c||0===c?c:ka++;this.init(a,b);da(this,"index",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].f):Object.keys(this.f)});da(this,"length",function(){return this.index.length})}function L(a){const b=B();for(const c in a)if(a.hasOwnProperty(c)){const d=
a[c];E(d)?b[c]=d.slice(0):I(d)?b[c]=L(d):b[c]=d}return b}function O(a,b){const c=a.length,d=P(b),e=[];for(let g=0,h=0;g<c;g++){const k=a[g];if(d&&b(k)||!d&&!b[k])e[h++]=k}return e}function H(a,b,c,d,e,g,h,k,f,l){c=ea(c,h?0:e,!1,!1,b,f,l);let p;k&&(k=c.page,p=c.next,c=c.result);if(h)a=this.where(h,null,e,c);else{a=c;b=this.j;c=a.length;e=Array(c);for(g=0;g<c;g++)e[g]=b[a[g]];a=e}c=a;d&&(P(d)||(J=d.split(":"),1<J.length?d=la:(J=J[0],d=ma)),c.sort(d));return c=Q(k,p,c)}function da(a,b,c){Object.defineProperty(a,
b,{get:c})}function q(a){return new RegExp(a,"g")}function M(a,b){for(let c=0;c<b.length;c+=2)a=a.replace(b[c],b[c+1]);return a}function S(a,b,c,d,e,g,h,k){if(b[c])return b[c];e=e?(k-(h||k/1.5))*g+(h||k/1.5)*e:g;b[c]=e;e>=h&&(a=a[k-(e+.5>>0)],a=a[c]||(a[c]=[]),a[a.length]=d);return e}function W(a,b){if(a){const c=Object.keys(a);for(let d=0,e=c.length;d<e;d++){const g=c[d],h=a[g];if(h)for(let k=0,f=h.length;k<f;k++)if(h[k]===b){1===f?delete a[g]:h.splice(k,1);break}else I(h[k])&&W(h[k],b)}}}function X(a){let b=
"",c="";var d="";for(let e=0;e<a.length;e++){const g=a[e];if(g!==c)if(e&&"h"===g){if(d="a"===d||"e"===d||"i"===d||"o"===d||"u"===d||"y"===d,("a"===c||"e"===c||"i"===c||"o"===c||"u"===c||"y"===c)&&d||" "===c)b+=g}else b+=g;d=e===a.length-1?"":a[e+1];c=g}return b}function na(a,b){a=a.length-b.length;return 0>a?1:a?-1:0}function ma(a,b){a=a[J];b=b[J];return a<b?-1:a>b?1:0}function la(a,b){const c=J.length;for(let d=0;d<c;d++)a=a[J[d]],b=b[J[d]];return a<b?-1:a>b?1:0}function Q(a,b,c){return a?{page:a,
next:b?""+b:null,result:c}:c}function ea(a,b,c,d,e,g,h){let k,f=[];if(!0===c){c="0";var l=""}else l=c&&c.split(":");const p=a.length;if(1<p){const x=B(),t=[];let v,z;var n=0,m;let K;var u=!0;let D,C=0,Y,Z,T,aa;l&&(2===l.length?(T=l,l=!1):l=aa=parseInt(l[0],10));if(h){for(v=B();n<p;n++)if("not"===e[n])for(z=a[n],K=z.length,m=0;m<K;m++)v["@"+z[m]]=1;else Z=n+1;if(N(Z))return Q(c,k,f);n=0}else Y=F(e)&&e;let U,ba;for(;n<p;n++){const oa=n===(Z||p)-1;if(!Y||!n)if((m=Y||e&&e[n])&&"and"!==m)if("or"===m)ba=
!0,U=!1;else continue;else U=g=!0,ba=!1;z=a[n];if(K=z.length){if(u)if(D){var r=D.length;for(m=0;m<r;m++){u=D[m];var y="@"+u;h&&v[y]||(x[y]=1,g||(f[C++]=u))}D=null;u=!1}else{D=z;continue}y=!1;for(m=0;m<K;m++){r=z[m];var A="@"+r;const V=g?x[A]||0:n;if(!(!V&&!d||h&&v[A]||!g&&x[A]))if(V===n){if(oa||ba){if(!aa||--aa<C)if(f[C++]=r,b&&C===b)return Q(c,C+(l||0),f)}else x[A]=n+1;y=!0}else d&&(A=t[V]||(t[V]=[]),A[A.length]=r)}if(U&&!y&&!d)break}else if(U&&!d)return Q(c,k,z)}if(D)if(n=D.length,h)for(m=l?parseInt(l,
10):0;m<n;m++)a=D[m],v["@"+a]||(f[C++]=a);else f=D;if(d)for(C=f.length,T?(n=parseInt(T[0],10)+1,m=parseInt(T[1],10)+1):(n=t.length,m=0);n--;)if(r=t[n]){for(K=r.length;m<K;m++)if(d=r[m],!h||!v["@"+d])if(f[C++]=d,b&&C===b)return Q(c,n+":"+m,f);m=0}}else!p||e&&"not"===e[0]||(f=a[0],l&&(l=parseInt(l[0],10)));b&&(h=f.length,l&&l>h&&(l=0),l=l||0,k=l+b,k<h?f=f.slice(l,k):(k=0,l&&(f=f.slice(l))));return Q(c,k,f)}function F(a){return"string"===typeof a}function E(a){return a.constructor===Array}function P(a){return"function"===
typeof a}function I(a){return"object"===typeof a}function N(a){return"undefined"===typeof a}function fa(a){const b=Array(a);for(let c=0;c<a;c++)b[c]=B();return b}function B(){return Object.create(null)}const G={encode:"icase",c:"forward",split:/\W+/,cache:!1,async:!1,v:!1,m:!1,a:!1,b:9,threshold:0,depth:0},ha={memory:{encode:"extra",c:"strict",threshold:0,b:1},speed:{encode:"icase",c:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",c:"full",threshold:1,b:3},score:{encode:"extra",c:"strict",
threshold:1,b:9,depth:4},balance:{encode:"balance",c:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",c:"strict",threshold:8,b:9,depth:1}},ca=[];let ka=0;const ia={},ja={};w.create=function(a,b){return new w(a,b)};w.registerMatcher=function(a){for(const b in a)a.hasOwnProperty(b)&&ca.push(q(b),a[b]);return this};w.registerEncoder=function(a,b){R[a]=b.bind(R);return this};w.registerLanguage=function(a,b){ia[a]=b.filter;ja[a]=b.stemmer;return this};w.encode=function(a,b){return R[a](b)};w.prototype.init=
function(a,b){this.o=[];if(b){var c=b.preset;a=b}else a||(a=G),c=a.preset;b={};F(a)?(b=ha[a],a={}):c&&(b=ha[c]);this.c=a.tokenize||b.c||this.c||G.c;this.split=N(c=a.split)?this.split||G.split:F(c)?q(c):c;this.m=a.rtl||this.m||G.m;this.async="undefined"===typeof Promise||N(c=a.async)?this.async||G.async:c;this.threshold=N(c=a.threshold)?b.threshold||this.threshold||G.threshold:c;this.b=N(c=a.resolution)?c=b.b||this.b||G.b:c;c<=this.threshold&&(this.b=this.threshold+1);this.depth="strict"!==this.c||
N(c=a.depth)?b.depth||this.depth||G.depth:c;this.h=(c=N(c=a.encode)?b.encode||G.encode:c)&&R[c]&&R[c].bind(R)||(P(c)?c:this.h||!1);(c=a.matcher)&&this.addMatcher(c);if(c=(b=a.lang)||a.filter){F(c)&&(c=ia[c]);if(E(c)){var d=this.h,e=B();for(var g=0;g<c.length;g++){var h=d?d(c[g]):c[g];e[h]=1}c=e}this.filter=c}if(c=b||a.stemmer){var k;b=F(c)?ja[c]:c;d=this.h;e=[];for(k in b)b.hasOwnProperty(k)&&(g=d?d(k):k,e.push(q(g+"($|\\W)"),d?d(b[k]):b[k]));this.stemmer=k=e}this.a=e=(c=a.doc)?L(c):this.a||G.a;this.l=
fa(this.b-(this.threshold||0));this.g=B();this.f=B();if(e){this.j=B();a.doc=null;k=e.index={};b=e.keys=[];d=e.field;g=e.store;E(e.id)||(e.id=e.id.split(":"));if(g){h=B();if(F(g))h[g]=1;else if(E(g))for(let f=0;f<g.length;f++)h[g[f]]=1;else I(g)&&(h=g);e.store=h}if(d){let f;E(d)||(I(d)?(f=d,e.field=d=Object.keys(d)):e.field=d=[d]);for(e=0;e<d.length;e++)g=d[e],E(g)||(f&&(a=f[g]),b[e]=g,d[e]=g.split(":")),k[g]=new w(a)}a.doc=c}return this};w.prototype.encode=function(a){a&&(ca.length&&(a=M(a,ca)),this.o.length&&
(a=M(a,this.o)),this.h&&(a=this.h(a)),this.stemmer&&(a=M(a,this.stemmer)));return a};w.prototype.addMatcher=function(a){const b=this.o;for(const c in a)a.hasOwnProperty(c)&&b.push(q(c),a[c]);return this};w.prototype.add=function(a,b,c,d,e){if(this.a&&I(a))return this.i("add",a,b);if(b&&F(b)&&(a||0===a)){var g="@"+a;if(this.f[g]&&!d)return this.update(a,b);if(!e){if(this.async){let t=this;g=new Promise(function(v){setTimeout(function(){t.add(a,b,null,d,!0);t=null;v()})});if(c)g.then(c);else return g;
return this}if(c)return this.add(a,b,null,d,!0),c(),this}b=this.encode(b);if(!b.length)return this;c=this.c;e=P(c)?c(b):b.split(this.split);this.filter&&(e=O(e,this.filter));const n=B();n._ctx=B();const m=e.length,u=this.threshold,r=this.depth,y=this.b,A=this.l,x=this.m;for(let t=0;t<m;t++){var h=e[t];if(h){var k=h.length,f=(x?t+1:m-t)/m,l="";switch(c){case "reverse":case "both":for(var p=k;--p;)l=h[p]+l,S(A,n,l,a,x?1:(k-p)/k,f,u,y-1);l="";case "forward":for(p=0;p<k;p++)l+=h[p],S(A,n,l,a,x?(p+1)/
k:1,f,u,y-1);break;case "full":for(p=0;p<k;p++){const v=(x?p+1:k-p)/k;for(let z=k;z>p;z--)l=h.substring(p,z),S(A,n,l,a,v,f,u,y-1)}break;default:if(k=S(A,n,h,a,1,f,u,y-1),r&&1<m&&k>=u)for(k=n._ctx[h]||(n._ctx[h]=B()),h=this.g[h]||(this.g[h]=fa(y-(u||0))),f=t-r,l=t+r+1,0>f&&(f=0),l>m&&(l=m);f<l;f++)f!==t&&S(h,k,e[f],a,0,y-(f<t?t-f:f-t),u,y-1)}}}this.f[g]=1}return this};w.prototype.i=function(a,b,c){if(E(b)){var d=b.length;if(d--){for(var e=0;e<d;e++)this.i(a,b[e]);return this.i(a,b[d],c)}}else{var g=
this.a.index,h=this.a.keys,k=this.a.tag;e=this.a.store;var f;var l=this.a.id;d=b;for(var p=0;p<l.length;p++)d=d[l[p]];if("remove"===a&&(delete this.j[d],l=h.length,l--)){for(b=0;b<l;b++)g[h[b]].remove(d);return g[h[l]].remove(d,c)}if(k){for(f=0;f<k.length;f++){var n=k[f];var m=b;l=n.split(":");for(p=0;p<l.length;p++)m=m[l[p]];m="@"+m}f=this.u[n];f=f[m]||(f[m]=[])}l=this.a.field;for(let u=0,r=l.length;u<r;u++){n=l[u];k=b;for(m=0;m<n.length;m++)k=k[n[m]];n=g[h[u]];m="add"===a?n.add:n.update;u===r-1?
m.call(n,d,k,c):m.call(n,d,k)}if(e){c=Object.keys(e);a=B();for(g=0;g<c.length;g++)if(h=c[g],e[h]){h=h.split(":");let u,r;for(l=0;l<h.length;l++)k=h[l],u=(u||b)[k],r=(r||a)[k]=u}b=a}f&&(f[f.length]=b);this.j[d]=b}return this};w.prototype.update=function(a,b,c){if(this.a&&I(a))return this.i("update",a,b);this.f["@"+a]&&F(b)&&(this.remove(a),this.add(a,b,c,!0));return this};w.prototype.remove=function(a,b,c){if(this.a&&I(a))return this.i("remove",a,b);var d="@"+a;if(this.f[d]){if(!c){if(this.async&&
"function"!==typeof importScripts){let e=this;d=new Promise(function(g){setTimeout(function(){e.remove(a,null,!0);e=null;g()})});if(b)d.then(b);else return d;return this}if(b)return this.remove(a,null,!0),b(),this}for(b=0;b<this.b-(this.threshold||0);b++)W(this.l[b],a);this.depth&&W(this.g,a);delete this.f[d]}return this};let J;w.prototype.search=function(a,b,c,d){if(I(b)){if(E(b))for(var e=0;e<b.length;e++)b[e].query=a;else b.query=a;a=b;b=1E3}else b&&P(b)?(c=b,b=1E3):b||0===b||(b=1E3);let g=[],
h=a;let k,f,l;if(I(a)&&!E(a)){c||(c=a.callback)&&(h.callback=null);f=a.sort;k=!1;b=a.limit;var p=a.threshold;l=!1;a=a.query}if(this.a){p=this.a.index;var n;const x=[];E(h)?n=h:n=[h];var m=0;for(var u=0;u<n.length;u++)for(var r=0;r<n[u].field.length;r++)x[m]=n[u].s||"or",k&&!F(h)&&(h.page=null,h.limit=0),g[m++]=p[n[u].field[r]].search(n[u],0);if(c)return c(H.call(this,a,x,g,f,b,l,!1,k,void 0,void 0));if(this.async){const t=this;return new Promise(function(v){Promise.all(g).then(function(z){v(H.call(t,
a,x,z,f,b,l,!1,k,void 0,void 0))})})}return H.call(this,a,x,g,f,b,l,!1,k,void 0,void 0)}p||(p=this.threshold||0);if(!d){if(this.async&&"function"!==typeof importScripts){let x=this;p=new Promise(function(t){setTimeout(function(){t(x.search(h,b,null,!0));x=null})});if(c)p.then(c);else return p;return this}if(c)return c(this.search(h,b,null,!0)),this}if(!a||!F(a))return g;h=a;h=this.encode(h);if(!h.length)return g;c=this.c;c=P(c)?c(h):h.split(this.split);this.filter&&(c=O(c,this.filter));n=c.length;
d=!0;e=[];const y=B();let A=0;1<n&&(this.depth&&"strict"===this.c?m=!0:c.sort(na));if(!m||(u=this.g)){const x=this.b;for(;A<n;A++){let t=c[A];if(t){if(m){if(!r)if(u[t])r=t,y[t]=1;else if(!l)return g;if(l&&A===n-1&&!e.length)m=!1,t=r||t,y[t]=0;else if(!r)continue}if(!y[t]){const v=[];let z=!1,K=0;if(r=m?u[r]:this.l){let D;for(let C=0;C<x-p;C++)if(D=r[C]&&r[C][t])v[K++]=D,z=!0}if(z)r=t,e[e.length]=1<K?v.concat.apply([],v):v[0];else{d=!1;break}y[t]=1}}}}else d=!1;d&&(g=ea(e,b,k,!1));return g};w.prototype.clear=
function(){return this.destroy().init()};w.prototype.destroy=function(){this.l=this.g=this.f=null;if(this.a){const a=this.a.keys;for(let b=0;b<a.length;b++)this.a.index[a[b]].destroy();this.a=this.j=null}return this};const pa=function(){const a=q("\\s+"),b=q("[^a-z0-9 ]"),c=[q("[-/]")," ",b,"",a," "];return function(d){return X(M(d.toLowerCase(),c))}}(),R={icase:function(a){return a.toLowerCase()},simple:function(){const a=q("\\s+"),b=q("[^a-z0-9 ]"),c=q("[-/]"),d=q("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),
e=q("[\u00e8\u00e9\u00ea\u00eb]"),g=q("[\u00ec\u00ed\u00ee\u00ef]"),h=q("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),k=q("[\u00f9\u00fa\u00fb\u00fc\u0171]"),f=q("[\u00fd\u0177\u00ff]"),l=q("\u00f1"),p=q("[\u00e7c]"),n=q("\u00df"),m=q(" & "),u=[d,"a",e,"e",g,"i",h,"o",k,"u",f,"y",l,"n",p,"k",n,"s",m," and ",c," ",b,"",a," "];return function(r){r=M(r.toLowerCase(),u);return" "===r?"":r}}(),advanced:function(){const a=q("ae"),b=q("ai"),c=q("ay"),d=q("ey"),e=q("oe"),g=q("ue"),h=q("ie"),k=q("sz"),f=q("zs"),
l=q("ck"),p=q("cc"),n=q("sh"),m=q("th"),u=q("dt"),r=q("ph"),y=q("pf"),A=q("ou"),x=q("uo"),t=[a,"a",b,"ei",c,"ei",d,"ei",e,"o",g,"u",h,"i",k,"s",f,"s",n,"s",l,"k",p,"k",m,"t",u,"t",r,"f",y,"f",A,"o",x,"u"];return function(v,z){if(!v)return v;v=this.simple(v);2<v.length&&(v=M(v,t));z||1<v.length&&(v=X(v));return v}}(),extra:function(){const a=q("p"),b=q("z"),c=q("[cgq]"),d=q("n"),e=q("d"),g=q("[vw]"),h=q("[aeiouy]"),k=[a,"b",b,"s",c,"k",d,"m",e,"t",g,"f",h,""];return function(f){if(!f)return f;f=this.advanced(f,
!0);if(1<f.length){f=f.split(" ");for(let l=0;l<f.length;l++){const p=f[l];1<p.length&&(f[l]=p[0]+M(p.substring(1),k))}f=f.join(" ");f=X(f)}return f}}(),balance:pa};return w}(!1),this);
